<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<meta author='Karyn Nakamura'>
	<title>KARYN NAKAMURA</title>
	<meta name="viewport" content="initial-scale=1" /> 
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <link href='https://fonts.googleapis.com/css?family=Overpass' rel='stylesheet' type='text/css'>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Aldrich&family=Cantarell&family=Exo+2:wght@100;200;300&family=IBM+Plex+Sans+KR:wght@200;300;400&family=Jura:wght@300&family=Quantico&family=Source+Code+Pro:wght@200;300;400&family=Space+Grotesk&family=Titillium+Web:wght@200;300&display=swap" rel="stylesheet">	<script src='https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js'></script>
  <link rel="image_src" href="folder.png"/>
	<meta property="og:image" content = "folder.png" />
	<link rel="icon" href="folder.png">


<style type="text/css">

body, html {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  display: flex;
}

.title {
  padding-left: 10px;
  padding-top: 10px;
  padding-bottom: 2px;
  text-align: left;
  font-family: Quantico;
  font-weight: 400;
  letter-spacing: 10px;
  font-size: 16px;
  text-decoration: none;
  color: black;
  z-index: 999;
}

.name {
  text-align: left;
  font-family: Quantico;
  font-weight: 400;
  letter-spacing: 40px;
  font-size: 30px;
}

.list{
  font-size: 20px;
  position: relative;
  padding-top: 10px;
}

.everything-list{
  padding-left: 0px;
}




ul {
  font-size: 16px;
  font-family: Quantico; 
  font-weight: 100; 
  letter-spacing: 10px;
  list-style-type: none;
  padding-left: 15px;
}


.works{
  padding-bottom: 30px;
}

.work{
  list-style-type: none;
  font-family: Jura; 
  font-size: 16px; 
  font-weight: 100;
  line-height: 1.7em;
  letter-spacing: 1px;
  top: 10px;
  padding-left: 10px;
}



a {
  color: black;
  text-decoration: none;
}

a:hover{
  color: red;
  font-size: 16px;
  font-family: Aldrich; 
  font-weight: 100; 
  letter-spacing: 9px;
  line-height: 2em;
}

.highlight {
  font-size: 16px;
  font-family: Aldrich; 
  font-weight: 100; 
  letter-spacing: 9px;
  line-height: 2em;
}

#tv{
  margin: auto;
  width: 400px;
  /*height: 300px;*/
  height: 100vh;
  display: block;
  background-color: none;
  /*left: 50%;*/
  left: 80%;
  top: 20%;
  transform: translate(-50%, 0%);
  /*transform: translate(-50%, -50%);*/
  position: fixed;
  padding-right: 10px;
}

.tvpng {
  width: 400px;
  height: 300px;
  margin: auto;
  position: absolute;
  margin-top: 10px;
  
}

.channelimg{
  width: 240px;
  height: 200px;
  margin: auto;
  background-color: black;
  background-image: url("https://static.tumblr.com/3zmswwt/gL1ny5cm4/2cwrjc00.gif");

}


.screen{
  background-image: url("https://static.tumblr.com/3zmswwt/gL1ny5cm4/2cwrjc00.gif");
  border: 0;
  height: 180px;
  width: 220px;
  max-width: 225px;
  top: 41px;
  left: 87px;
  position: absolute;
  overflow-y: hidden;
  margin-top: 10px;
}


.thumbnail{
  display: flex;
  justify-content: center; 
  max-width: 225px;
  min-height: 180px;
  margin: auto;
  background-image: url("https://static.tumblr.com/3zmswwt/gL1ny5cm4/2cwrjc00.gif");

}


#description{
  color: cyan;
  filter: drop-shadow(0px 0px 5px greenyellow);
  margin-top: 10px;
  padding-top: 10px;

}

#textbox{
  text-align: left;
  font-family: Aldrich;
  font-weight: 100;
  letter-spacing: 2px;
  font-size: 12px;
  position: absolute;
  left:50%;
  top:330px;
  transform: translate(-50%, 0%);
  width: 80%;
  max-width: 500px;
  padding-right: 10px;
  text-align: justify;
  margin-top: 10px;
  padding-top: 10px;
}

.button {
			min-width: 130px;
      line-height: 1.5em;
     	padding: 4px 2px;
			cursor: pointer;
      position: absolute;
      transform: translate(-50%, -50%);
      left: 49%;
      top: 310px;
			text-align: center;
			background: #fff;
			font-size: 13px;
			border: 1px solid #e0e0e0;
			text-decoration: none;
			color: black;
      font-family: Aldrich;
    	}

.button:hover {
			background: #fff;
			color: cyan;
			border: 2px solid cyan;
      filter: drop-shadow(0px 0px 5px chartreuse);
      
		}


@media screen and (max-width: 766px) {

#tv {
    position: absolute;
    display: flex;
    left:50%;
    /*  top: 25%;*/
    right: auto;
    top: 0%;
    transform: translate(-50%, 0%);
    margin-top: 50px;
    padding-top: 10px;
  }

#text{
  position: relative;
  padding-top: 400px;
}

.name{
  letter-spacing: 30px;
  font-size: 20px;
}

ul ul {
  list-style: none;
  padding-left: 15px;
}

ul li{
  position: relative;
  left: 0px;
}

#description{
  display: none;
}

#sort {
  display: none;
}

.highlight {

}

}


 	</style>
</head>

<body>
    <div id="tv">
      <div class = "screen">
        <img class = "thumbnail" src = "https://static.tumblr.com/3zmswwt/gL1ny5cm4/2cwrjc00.gif" >
      </div>
      <img class = "tvpng" src = "tv.png" >
      <div id = "description">
        <div id = "textbox"></div>
      </div>
      <button id="sort" class="button">PROGRAM: 1</button>
    </div>
    <div id = "text">
      <div class="title">Index of <br><span class="name">/KARYN NAKAMURA/ </span></div>
      <div class="list">
        <ul>
          <li><a class = "info" href = "info.html">Info/</a></li>
          <br>
          <ul id="cat1" class = "everything-list"></ul>
          <ul id="cat2" class = "everything-list"></ul>
          <ul id="cat3" class = "everything-list"></ul>
        </ul>
        <br><br>
      </div>
    </div>


<script type="text/javascript">

d3.csv("spread.csv").then(function(data) {
    // Group data by category
    var nest1 = d3.group(data, d => d.format);
    var nest2 = d3.group(data, d => d.concept);
    var nest3 = d3.group(data, d => d.year);

    // Select the description list
    var cat1list = d3.select("#cat1");
    var cat2list = d3.select("#cat2");
    var cat3list = d3.select("#cat3");



/*

    // Add categories as list items
    var cat1cats = cat1list.selectAll("ul")
        .data(nest1)
        .enter()
        .append("li")
        .html(function(d) {
                return "<li>" + d[0].toUpperCase() + "/</li><br>";
            })
        .attr("class", "works");

    // Add items under each category
    cat1cats.each(function(d) {
        d3.select(this)
            .selectAll("ul")
            .data(d[1])
            .enter()
            .append("li")
            .attr("class", "work")
            .style("opacity", 1) 
            .html(function(item) {
              return "<a href='" + item.year + "/" + item.pagelinktitle + ".html'>" + item.title + "</a>";
            })
            .selectAll("a")
            .on("mouseover", function() {
              var data = d3.select(this.parentNode).datum(); // Retrieve the original dataset associated with the current list item
              var description = data.description;
              d3.select(".thumbnail").attr("src", data.imglink).style("opacity", "100%")
              d3.select("#description").html('<div id = "textbox">' + data.description + '</div>').transition().duration(500).style("opacity", 1)
            })
            .on("mouseleave", function(data) {
              d3.select(".thumbnail").attr("src", "https://static.tumblr.com/3zmswwt/gL1ny5cm4/2cwrjc00.gif")
              d3.select(".textbox").style("opacity","0")
              d3.select("#description").html('<div id = "textbox">' + '</div>').style("opacity", 0) 
            })
            .transition()
            .duration(1500)
            .style("opacity", 1);
          })
*/



function createCategory(catList, nestedData) {
    catList.each(function(d) {
        d3.select(this)
            .selectAll("ul")
            .data(nestedData)
            .enter()
            .append("li")
            .html(function(d) {
                return "<li>" + d[0].toUpperCase() + "/</li><br>";
            })
            .attr("class", "works")
            .each(function(d) {
                d3.select(this)
                    .selectAll("ul")
                    .data(d[1])
                    .enter()
                    .append("li")
                    .attr("class", "work")
                    .style("opacity", 1)
                    .html(function(item) {
                        return "<a href='" + item.year + "/" + item.pagelinktitle + ".html'>" + item.title + "</a>";
                    })
                    .selectAll("a")
                    .on("mouseover", function() {
                        var data = d3.select(this.parentNode).datum(); // Retrieve the original dataset associated with the current list item
                        var description = data.description;
                        d3.select(".thumbnail").attr("src", data.imglink).style("opacity", "100%");
                        d3.select("#description").html('<div id = "textbox">' + data.description + '</div>').transition().duration(500).style("opacity", 1);
                    })
                    .on("mouseleave", function(data) {
                        d3.select(".thumbnail").attr("src", "https://static.tumblr.com/3zmswwt/gL1ny5cm4/2cwrjc00.gif");
                        d3.select(".textbox").style("opacity", "0");
                        d3.select("#description").html('<div id = "textbox">' + '</div>').style("opacity", 0);
                    })
                    .transition()
                    .duration(1500)
                    .style("opacity", 1);
            });
    });
}
  createCategory(cat1list, nest1);

  var mode = 0
  d3.select("#sort").on("click", function() {

    if (mode == 0){
      mode = 1
      cat1list.selectAll("li, li *")
        .transition()
        .duration(500)
        .style("opacity", 0)
        .remove();
      createCategory(cat2list, nest2);

      d3.select(this).text("PROGRAM: 2")
    }
    else if (mode ==1){
      mode = 2

      cat2list.selectAll("li, li *")
        .transition()
        .duration(500)
        .style("opacity", 0)
        .remove();
      createCategory(cat3list, nest3);

      d3.select(this).text("PROGRAM: 3")
    }
    else if (mode == 2){
      mode = 0
      cat3list.selectAll("li, li *")
        .transition()
        .duration(500)
        .style("opacity", 0)
        .remove();
      createCategory(cat1list, nest1);
      d3.select(this).text("PROGRAM: 1")
      /*
      cat3list.selectAll("li, li *")
        .transition()
        .duration(500)
        .style("opacity", 0)
        .remove();
      mode = 3

      d3.select(this).text("NIHILIST MODE")
      */
    }
    /*
    else if (mode == 3){
      mode = 0

      createCategory(cat1list, nest1);
      d3.select(this).text("PROGRAM: 1")

    }*/
    });

  function highlightRandomElement() {
      var listItems = d3.selectAll(".work");
      listItems.classed("highlight", false);
      var randomIndex = Math.floor(Math.random() * listItems.size());
      var randomListItem = listItems.nodes()[randomIndex];
      d3.select(randomListItem).classed("highlight", true);
      data = d3.select(randomListItem).datum(); // Retrieve the original dataset associated with the current list item
      d3.select(".thumbnail").attr("src", data.imglink).style("opacity", "100%")
  }

  var currentIndex = 0;

  function highlightNextElement() {
      var listItems = d3.selectAll(".work");
      listItems.classed("highlight", false);
      var listItem = listItems.nodes()[currentIndex];
      d3.select(listItem).classed("highlight", true);
      var data = d3.select(listItem).datum(); 
      d3.select(".thumbnail").attr("src", data.imglink).style("opacity", "100%");
      currentIndex = (currentIndex + 1) % listItems.size();
  }

  var highlightInterval //= setInterval(highlightRandomElement, 4000);
  var mouseMoveTimeout;

  function handleMouseMove(event) {
    clearTimeout(mouseMoveTimeout);
   // d3.select(".thumbnail").attr("src", "https://static.tumblr.com/3zmswwt/gL1ny5cm4/2cwrjc00.gif")
    d3.selectAll(".work").classed("highlight", false);
    var isMouseOverLink = event.target.closest("li.work a");
    if (isMouseOverLink) {
        clearInterval(highlightInterval);
        return; // Exit the function early
    }
    clearInterval(highlightInterval);
    mouseMoveTimeout = setTimeout(function() {
      d3.select(".thumbnail").attr("src", "https://static.tumblr.com/3zmswwt/gL1ny5cm4/2cwrjc00.gif")
      highlightInterval = setInterval(highlightNextElement, 2500);
    }, 2000);
}

document.body.addEventListener("mousemove", handleMouseMove);

});


d3.select(".info").on("click", function() { 
    window.open("info-txt.html", 'text', params);
})

function getRandomNumber(min, max) {
  return Math.random() * (max - min) + min;
}


</script>
</body>
</html>